{{ $url :=  .Get "url"}}
{{ $u := urls.Parse $url }}

<figure class="mb-4">
    {{ if or (eq $u.Scheme "") (eq $u.Host "")  }}
        <img class="figure-img img-fluid mx-auto" src="{{ .Get "src" }}" {{ if or (.Get "alt") (.Get "caption") }}alt="{{ with .Get "alt"}}{{.}}{{else}}{{ .Get "caption" }}{{ end }}" {{ end }} />
    {{else}}
        <a href="{{ .Get "url" }}">
            <img class="figure-img img-fluid mx-auto" src="{{ .Get "src" }}" {{ if or (.Get "alt") (.Get "caption") }}alt="{{ with .Get "alt"}}{{.}}{{else}}{{ .Get "caption" }}{{ end }}" {{ end }}/>
        </a>
     {{ end }}
    {{ if .Get "caption" }}
    <figcaption class="figure-caption text-center text-dark font-italic">
        {{ with .Get "alt"}}
            {{.}}
        {{else}}
            {{ .Get "caption" }}
        {{ end }}
    </figcaption>
    {{ end }}
</figure>
<!-- image -->